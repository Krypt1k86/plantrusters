{"version":3,"file":"static/webpack/static/development/pages/index.js.5403241c5ddc06108148.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import { NextPage } from 'next';\nimport { ethers, Contract } from 'ethers';\n\nfunction parseLogs(logs: ethers.providers.Log[]): any[] {\n  let iface = new ethers.utils.Interface(new CardsFactory().interface.abi);\n  return logs.map((log) => iface.parseLog(log)).map(item => {\n      let result = {\n          name: item.name,\n          signature: item.signature,\n          values: {}\n      };\n\n      const keys = Object.keys(item.values);\n      const values = Object.values(item.values);\n      const start = item.values.length;\n\n      for (let i = start; i < (start * 2) - 1; i++) {\n          result.values[keys[i]] = values[i];\n      }\n\n      return result;\n  });\n}\n\nconst test = async () => {\n\n\n// The Contract interface\nlet abi = [\n  \"event ValueChanged(address indexed author, string oldValue, string newValue)\",\n  \"constructor(string value)\",\n  \"function getValue() view returns (string value)\",\n  \"function setValue(string value)\"\n];\n\nlet contractAddress = \"0xD275B1550E8ca8Da84c552ACa9313Ec4a5B9bD07\";\n\n\n// We connect to the Contract using a Provider, so we will only\n// have read-only access to the Contract\nlet contract = new ethers.Contract(contractAddress, abi, provider);\n\nconst provider = new ethers.providers.JsonRpcProvider('https://mainnet.infura.io/v3/ab962fb32dfc49a8ab6ab72a6a318c85')\n\n\nlet topic = ethers.utils.id(\"transferFrom(address,address)\");\n\nlet filter = {\n    address: contractAddress,\n    fromBlock: 8960961,\n    toBlock: \"latest\",\n    topics: [ topic ]\n}\n\nprovider.getLogs(filter).then((result) => {\n    console.log(\"result \", result);\n\n    for (let entry of result) {\n      \n      console.log(\"entry \", entry)\n  }\n});\n}\n\nconst Home: NextPage<{ userAgent: string }> = ({ userAgent }) => {\n  test()\n  return (\n    <h1>Hello world! - user agent: {userAgent}</h1>\n  )\n};\n\nHome.getInitialProps = async ({ req }) => {\n  const userAgent = req ? req.headers['user-agent'] || '' : navigator.userAgent;\n  return { userAgent };\n};\n\nexport default Home;\n\n// 7BB81632c66cfAf0c9c7aA2DBaBf21FBC036D013\n// \"0x0000000000000000000000007bb81632c66cfaf0c9c7aa2dbabf21fbc036d013\"\n\nentry"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAOA;AAIA;AACA;AAAA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAEA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAuCA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AAGA;AACA;AACA;;;;A","sourceRoot":""}